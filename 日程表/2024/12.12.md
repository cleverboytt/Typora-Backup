# å®‰æ’

- [ ] C++å­¦ä¹  28/94

- [ ] vscodeå­—ä½“å¤‡ä»½ï¼šConsolas, 'Courier New', monospace

  ---

  ğŸ‘‡ã€28ã€‘C++è™šå‡½æ•°

  å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»ï¼ŒAå’ŒBï¼ŒBæ˜¯Aæ´¾ç”Ÿå‡ºæ¥çš„ï¼Œä¹Ÿå°±æ˜¯Bæ˜¯Açš„å­ç±»ï¼Œå¦‚æœæˆ‘ä»¬åœ¨Aç±»ä¸­åˆ›å»ºä¸€ä¸ªæ–¹æ³•ï¼Œæ ‡è®°ä¸º**virtual**ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨Bç±»ä¸­é‡å†™é‚£ä¸ªæ–¹æ³•ï¼Œè®©å®ƒåšå…¶ä»–çš„äº‹æƒ…ã€‚

  

![image-20241212182816116](image/image-20241212182816116.png)

ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™äº†ä¸€æ®µæ‰“å°å‡½æ•°**void PrintName()**ä¹‹åï¼Œå´æ‰“å°äº†ä¸¤æ¬¡â€œEntityâ€ã€‚åŸå› æ˜¯å¯¹äºPrintName()å‡½æ•°ï¼Œä»–çš„å‚æ•°æ˜¯**Entity**ï¼Œè¿™æ„å‘³ç€å½“æˆ‘ä»¬è°ƒç”¨GetNameå‡½æ•°æ—¶ï¼Œå¦‚æœæ˜¯åœ¨**Entity**é‡Œé¢ï¼Œé‚£ä¹ˆå®ƒä¼šä»Entityç±»ä¸­æ‰¾è¿™ä¸ªå«åš**GetName**çš„å‡½æ•°ï¼Œç„¶è€Œæˆ‘ä»¬å¸Œæœ›C++èƒ½å¤Ÿæ„è¯†åˆ°ï¼Œæˆ‘ä»¬è¿™é‡Œä¼ é‡Œçš„Entityå®é™…ä¸Šæ˜¯**Player**ï¼Œæ‰€ä»¥è¯·è°ƒç”¨ä¸‹é¢çš„GetNameå‡½æ•°ï¼Œè¿™å°±æ˜¯è™šå‡½æ•°å‡ºç°çš„åœ°æ–¹ã€‚

è™šå‡½æ•°å¼•å…¥äº†ä¸€ç§Dynamic Dispatchï¼ˆåŠ¨æ€è”ç¼–ï¼‰çš„ä¸œè¥¿ï¼Œé€šè¿‡è™šå‡½æ•°è¡¨ï¼ˆvè¡¨ï¼‰ï¼Œè¿™æ ·å¯ä»¥åœ¨å®ƒè¿è¡Œæ—¶ï¼Œå°†å…¶æ˜ å°„åˆ°æ­£ç¡®çš„è¦†å†™ï¼ˆoverrideï¼‰å‡½æ•°ã€‚

![image-20241212184751548](image/image-20241212184751548.png)

ä»…åœ¨é»„è‰²æ ‡è®°å¤„åŠ å…¥äº†**â€œvirtualâ€**å°±è¾¾åˆ°äº†æƒ³è¦çš„æ•ˆæœã€‚

> [!IMPORTANT]
>
> æˆ‘ä»¬åªéœ€åœ¨æŠŠåŸºç±»çš„æˆå‘˜å‡½æ•°è®¾ä¸ºvirtualï¼Œå…¶æ´¾ç”Ÿç±»çš„ç›¸åº”çš„å‡½æ•°ä¹Ÿä¼šè‡ªåŠ¨å˜ä¸ºè™šå‡½æ•°ã€‚

#### é™„ä»£ç ï¼š

```C++
#include<iostream>
#include<string>

class Entity{
public:
    virtual std::string Getname() {
        return "Entity";
    }
};


class Player : public Entity{
private:
    std::string m_Name;
public:
    Player(const std::string& name)
        :m_Name(name){}//m_Name æ˜¯ Player ç±»ä¸­çš„ä¸€ä¸ªç§æœ‰æˆå‘˜å˜é‡ï¼Œè¢«åˆå§‹åŒ–ä¸ºæ„é€ å‡½æ•°å‚æ•° name çš„å€¼ã€‚

    std::string Getname(){
        return m_Name;
    }
};

void PrintName(Entity* entity){
    std::cout<<entity->Getname()<<std::endl;
}
int main(){
    Entity* e=new Entity();
    PrintName(e);
    Player* p=new Player("tt");
    PrintName(p);
    std::cin.get();
}
```

---

ğŸ‘‡ã€29ã€‘C++çº¯è™šå‡½æ•°