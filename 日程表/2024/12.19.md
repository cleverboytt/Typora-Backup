# 安排

- [ ] C++学习   37/94

  ---

  

👇【35】C++中的mutable

**mutable**实际上有两种用途，一种是与**const**一起使用，另一种是在**lambda**表达式中使用。 

一个例子：

```c++
#include<iostream>
#include<string>

class Entity{
private:
    std::string m_Name;
    mutable int m_DebugCount=0;
public:
    const std::string& GetName() const
    {   
        m_DebugCount++;
        return m_Name;
    }
};
int main(){
    const Entity e;
    e.GetName(); 
    std::cin.get();
}
```

标记类成员为**mutable**意味着类中的const方法可以修改这个成员。以上是第一种情况的例子（使用情况最多）

而lambda基本上就像一个一次性的小函数，可以写出来并赋值给一个变量。

？？？没听懂。不过基本没啥用。

---

👇【36】C++的成员初始化列表

通常在构造函数中，有两种方法可以在构造函数中初始化一个类成员。

一种初始化方法如下：

```c++
#include<iostream>
#include<string>

class Entity{
private:
    std::string m_Name;
public:
    const std::string& GetName() const
    {   
        return m_Name;
    }
    Entity(){
        m_Name = "UnKnow";
    }
    Entity(const std::string& name){
        m_Name=name;
    }
};
int main(){
    Entity e0;
    std::cout<<e0.GetName()<<std::endl;
    Entity e1("Taojiachen");
    std::cout<<e1.GetName()<<std::endl;
    std::cin.get();
}
```

而另一种初始化方法：通过成员初始化列表来实现--在写了构造函数和参数之后可以添加一个冒号，然后开始列出想要初始化的成员。 需要注意的是，如果用这种方法定义这些变量，那么在成员初始化列表中，需要按照顺序写。

```C++
#include<iostream>
#include<string>

class Entity{
private:
    std::string m_Name;
    int m_Score;
public:
    const std::string& GetName() const
    {   
        return m_Name;
    }
    Entity()
        :m_Name("UnKnow")
        {
        }
    Entity(const std::string& name)
        :m_Name(name)
    {
    }
};
int main(){
    Entity e0;
    std::cout<<e0.GetName()<<std::endl;
    Entity e1("Taojiachen");
    std::cout<<e1.GetName()<<std::endl;
    std::cin.get();
}
```

---

👇【37】C++中的三元操作符

 

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    if(s_Level>5){
        s_speed=10;
    }
    else{
        s_speed=5;
    }
    std::cin.get(); 
}
```

用在条件判断中，上述代码可以简化成：

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    s_speed = s_Level>5?10:5;
    std::cin.get(); 
}
```

  字符串类型的也可以~

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    std::string rank =s_Level>10?"Master":"Beginner";
    std::cin.get(); 
}
```

三元操作符也可以嵌套。

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    s_speed =s_Level>5?s_Level>10?10:5:0;
    std::cin.get(); 
}
```

这样就不需要写大量的if语句了。