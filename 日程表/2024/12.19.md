# å®‰æ’

- [ ] C++å­¦ä¹    37/94

  ---

  

ğŸ‘‡ã€35ã€‘C++ä¸­çš„mutable

**mutable**å®é™…ä¸Šæœ‰ä¸¤ç§ç”¨é€”ï¼Œä¸€ç§æ˜¯ä¸**const**ä¸€èµ·ä½¿ç”¨ï¼Œå¦ä¸€ç§æ˜¯åœ¨**lambda**è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚ 

ä¸€ä¸ªä¾‹å­ï¼š

```c++
#include<iostream>
#include<string>

class Entity{
private:
    std::string m_Name;
    mutable int m_DebugCount=0;
public:
    const std::string& GetName() const
    {   
        m_DebugCount++;
        return m_Name;
    }
};
int main(){
    const Entity e;
    e.GetName(); 
    std::cin.get();
}
```

æ ‡è®°ç±»æˆå‘˜ä¸º**mutable**æ„å‘³ç€ç±»ä¸­çš„constæ–¹æ³•å¯ä»¥ä¿®æ”¹è¿™ä¸ªæˆå‘˜ã€‚ä»¥ä¸Šæ˜¯ç¬¬ä¸€ç§æƒ…å†µçš„ä¾‹å­ï¼ˆä½¿ç”¨æƒ…å†µæœ€å¤šï¼‰

è€ŒlambdaåŸºæœ¬ä¸Šå°±åƒä¸€ä¸ªä¸€æ¬¡æ€§çš„å°å‡½æ•°ï¼Œå¯ä»¥å†™å‡ºæ¥å¹¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚

ï¼Ÿï¼Ÿï¼Ÿæ²¡å¬æ‡‚ã€‚ä¸è¿‡åŸºæœ¬æ²¡å•¥ç”¨ã€‚

---

ğŸ‘‡ã€36ã€‘C++çš„æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨

é€šå¸¸åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ä¸€ä¸ªç±»æˆå‘˜ã€‚

ä¸€ç§åˆå§‹åŒ–æ–¹æ³•å¦‚ä¸‹ï¼š

```c++
#include<iostream>
#include<string>

class Entity{
private:
    std::string m_Name;
public:
    const std::string& GetName() const
    {   
        return m_Name;
    }
    Entity(){
        m_Name = "UnKnow";
    }
    Entity(const std::string& name){
        m_Name=name;
    }
};
int main(){
    Entity e0;
    std::cout<<e0.GetName()<<std::endl;
    Entity e1("Taojiachen");
    std::cout<<e1.GetName()<<std::endl;
    std::cin.get();
}
```

è€Œå¦ä¸€ç§åˆå§‹åŒ–æ–¹æ³•ï¼šé€šè¿‡æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥å®ç°--åœ¨å†™äº†æ„é€ å‡½æ•°å’Œå‚æ•°ä¹‹åå¯ä»¥æ·»åŠ ä¸€ä¸ªå†’å·ï¼Œç„¶åå¼€å§‹åˆ—å‡ºæƒ³è¦åˆå§‹åŒ–çš„æˆå‘˜ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç”¨è¿™ç§æ–¹æ³•å®šä¹‰è¿™äº›å˜é‡ï¼Œé‚£ä¹ˆåœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œéœ€è¦æŒ‰ç…§é¡ºåºå†™ã€‚

```C++
#include<iostream>
#include<string>

class Entity{
private:
    std::string m_Name;
    int m_Score;
public:
    const std::string& GetName() const
    {   
        return m_Name;
    }
    Entity()
        :m_Name("UnKnow")
        {
        }
    Entity(const std::string& name)
        :m_Name(name)
    {
    }
};
int main(){
    Entity e0;
    std::cout<<e0.GetName()<<std::endl;
    Entity e1("Taojiachen");
    std::cout<<e1.GetName()<<std::endl;
    std::cin.get();
}
```

---

ğŸ‘‡ã€37ã€‘C++ä¸­çš„ä¸‰å…ƒæ“ä½œç¬¦

 

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    if(s_Level>5){
        s_speed=10;
    }
    else{
        s_speed=5;
    }
    std::cin.get(); 
}
```

ç”¨åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œä¸Šè¿°ä»£ç å¯ä»¥ç®€åŒ–æˆï¼š

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    s_speed = s_Level>5?10:5;
    std::cin.get(); 
}
```

  å­—ç¬¦ä¸²ç±»å‹çš„ä¹Ÿå¯ä»¥~

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    std::string rank =s_Level>10?"Master":"Beginner";
    std::cin.get(); 
}
```

ä¸‰å…ƒæ“ä½œç¬¦ä¹Ÿå¯ä»¥åµŒå¥—ã€‚

```C++
#include<iostream>
#include<string>

static int s_Level = 1;
static int s_speed = 2;

int main(){
    s_speed =s_Level>5?s_Level>10?10:5:0;
    std::cin.get(); 
}
```

è¿™æ ·å°±ä¸éœ€è¦å†™å¤§é‡çš„ifè¯­å¥äº†ã€‚